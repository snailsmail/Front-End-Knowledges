<!DOCTYPE html>
<html>
    <head>
        <title>单元测试原理</title>
    </head>
    <body>
        <div id="app"></div>
        <script type="text/javascript">
        
            let add = (a, b) => a + b;

            const expect = (res) => {
                return {
                    toBe: (expectRes) => {
                        if (res !== expectRes) {
                            throw new Error(`期望值是${expectRes},但实际上却是${res}`)
                        }
                    }
                }
            }

            const test = (desc, fn) => {
                try {
                    fn()
                    console.log(`${desc} -> PASS`);
                } catch(e) {
                    console.error(`${desc} -> FAIL`, e);
                }
            }

            test('1+2=3', () => {
                expect(add(1, 2)).toBe(3)
            })

            test('1+2=4', () => {
                expect(add(1, 2)).toBe(4)
            })

        </script>
    </body>
</html>